<!DOCTYPE html>
<html lang="en">
<title>claire cronin</title>


<!---------------------------------------------->
<!-- styles  ----------------------------------->
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="css/styles.css" rel="stylesheet">

<!---------------------------------------------->
<!-- scripts ----------------------------------->

<!-- showdown -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"></script>

<script>
    // request content stored in an external file.
    // file: relative path to file
    // callback: asynchronous content handler
    function load_content(file, callback) {
        var request = new XMLHttpRequest();
        request.onload = function () {
            if (this.status == 200) {
                callback(this.responseText);
            }
        };
        request.open('GET', file, true);
        request.send();
    }

    // often, the current anchor is going to point to dynamic content that is not loaded yet
    // this should check the anchor and re-navigate to iT
    function refresh_anchor() {
        var urlParts = document.URL.split('#');
        var anchor = (urlParts.length > 1) ? urlParts[1] : null;
        if (anchor) { 
            window.location.href = "#"+anchor;
        }
    }

    function add_menu_item(name) {
        var file = "content/"+name + ".md";
        var box = document.querySelector("#"+name);
        load_content(file, function (txt) {
            var converter = new showdown.Converter();
            var html = converter.makeHtml(txt);
            box.innerHTML = html;
            refresh_anchor();
        });
    }
</script>

<body>

    <div class="container bg-grey-lightest mx-auto p-0 m-0">
        <div class="flex p-0 m-0 mt-4">
            <!-- menu -->
            <div class="flex-initial p-0 m-0">
                <div class="text-2xl pl-2 pt-2 pb-12 m-0 pr-4">Claire Cronin</div>
                <div class="menu-item"><a class="menu-link" href="#about">about</a></div>
                <div class="menu-item"><a class="menu-link" href="#writing">writing</a></div>
                <div class="menu-item"><a class="menu-link" href="#music">music</a></div>
                <!-- <div class="menu-item"><a class="menu-link" href="#performance">performance</a></div> -->
                <!-- <div class="menu-item"><a class="menu-link" href="#contact">contact</a></div> -->
            </div>

            <!-- main content section -->
            <div id="content-box" class="flex-1 m-0 p-0 pl-8 max-h-screen overflow-y-scroll">
                <div class="content-section-box"><img src="images/sorrowhand.jpg">
                    <div id="about" class="content-section-box"></div>
                    <div id="writing" class="content-section-box"></div>
                    <div id="music" class="content-section-box"></div>
                </div>
                <script>
                    var content_box = document.querySelector("#content-box");
                    add_menu_item("about");
                    add_menu_item("writing");
                    add_menu_item("music");
                </script>
            </div>
        </div>

    </div>
</body>

</html>